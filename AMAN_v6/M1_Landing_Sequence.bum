<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1670419819020" org.eventb.texttools.text_representation="machine M1_Landing_Sequence refines M0_AMAN_Update  sees M1_Landing_Sequence_Ctx&#10;&#10;variables landing_sequence // a total function from airplanes to planned landing time&#10;&#10;invariants&#10;  @inv1,1 landing_sequence ∈ AIRPLANES ⇸ PLANNING_INTERVAL&#10;    // all scheduled airplanes have a planned arrival time in the planning interval&#10;  @inv13,2 ∀a1,a2 · a1 ∈ dom(landing_sequence) ∧ a2 ∈ dom(landing_sequence) ∧ a1 ≠ a2 ⇒&#10;           (DIST(landing_sequence(a1) ↦ landing_sequence(a2)) ≥ AIRCRAFT_SEPARATION_MIN)&#10;  @glue1,1 scheduledAirplanes = dom(landing_sequence)&#10;&#10;events&#10;  event INITIALISATION&#10;    then&#10;      @act1,1 landing_sequence ≔ ∅&#10;  end&#10;&#10;  event AMAN_Update refines AMAN_Update&#10;    any new_landing_sequence&#10;    where&#10;      @grd1,1 new_landing_sequence ∈ AIRPLANES ⇸ PLANNING_INTERVAL&#10;      @inv1,2 ∀a1,a2 · a1 ∈ dom(new_landing_sequence) ∧ a2 ∈ dom(new_landing_sequence) ∧ a1 ≠ a2 ⇒&#10;              (DIST(new_landing_sequence(a1) ↦ new_landing_sequence(a2)) ≥ AIRCRAFT_SEPARATION_MIN)&#10;    with&#10;      @newScheduledAirplanes newScheduledAirplanes = dom(new_landing_sequence)&#10;    then&#10;      @act1,1 landing_sequence ≔ new_landing_sequence&#10;  end&#10;&#10;  event Move_Aircraft // the user moves an aircraft to a new landing time&#10;    any aircraft time&#10;    where&#10;      @grd1,1 aircraft ∈ dom(landing_sequence)&#10;      @grd1,2 time ∈ PLANNING_INTERVAL&#10;      @grd1,3 time ≠ landing_sequence(aircraft)&#10;      @grd1,4 ∀a· a ∈ dom(landing_sequence) ∖ {aircraft} ⇒  DIST(landing_sequence(a) ↦ time) ≥ AIRCRAFT_SEPARATION_MIN&#10;       // ensure we keep the separation to other aircraft&#10;    then&#10;      @act1,1 landing_sequence(aircraft) ≔ time&#10;  end&#10;end&#10;" version="5">
    <org.eventb.core.refinesMachine name="'" org.eventb.core.target="M0_AMAN_Update"/>
    <org.eventb.core.seesContext name="_7WIDoEr1Ee2jiPlvG5m5_Q" org.eventb.core.target="M1_Landing_Sequence_Ctx"/>
    <org.eventb.core.event name="_yCuQgUrzEe2jiPlvG5m5_R" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
        <org.eventb.core.action name="_UutVJ0r5Ee2jiPlvG5m5_Q" org.eventb.core.assignment="landing_sequence ≔ ∅" org.eventb.core.generated="false" org.eventb.core.label="act1,1"/>
    </org.eventb.core.event>
    <org.eventb.core.event name="_yCuQgUrzEe2jiPlvG5m5_S" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="AMAN_Update">
        <org.eventb.core.refinesEvent name="'" org.eventb.core.target="AMAN_Update"/>
        <org.eventb.core.parameter name="_ZdYLEEr2Ee2jiPlvG5m5_Q" org.eventb.core.generated="false" org.eventb.core.identifier="new_landing_sequence"/>
        <org.eventb.core.witness name="_ZdYyIUr2Ee2jiPlvG5m5_Q" org.eventb.core.generated="false" org.eventb.core.label="newScheduledAirplanes" org.eventb.core.predicate="newScheduledAirplanes = dom(new_landing_sequence)"/>
        <org.eventb.core.guard name="_QO_WUGmqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="grd1,1" org.eventb.core.predicate="new_landing_sequence ∈ AIRPLANES ⇸ PLANNING_INTERVAL"/>
        <org.eventb.core.guard name="_jsuhYGmqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="inv1,2" org.eventb.core.predicate="∀a1,a2 · a1 ∈ dom(new_landing_sequence) ∧ a2 ∈ dom(new_landing_sequence) ∧ a1 ≠ a2 ⇒&#10;              (DIST(new_landing_sequence(a1) ↦ new_landing_sequence(a2)) ≥ AIRCRAFT_SEPARATION_MIN)"/>
        <org.eventb.core.action name="_VHvN8GmqEe2s8uUhoFrjqA" org.eventb.core.assignment="landing_sequence ≔ new_landing_sequence" org.eventb.core.generated="false" org.eventb.core.label="act1,1"/>
    </org.eventb.core.event>
    <org.eventb.core.variable name="_2d0Q4Er1Ee2jiPlvG5m5_Q" org.eventb.core.comment="a total function from airplanes to planned landing time" org.eventb.core.generated="false" org.eventb.core.identifier="landing_sequence"/>
    <org.eventb.core.event name="_UusuEEr5Ee2jiPlvG5m5_Q" org.eventb.core.comment="the user moves an aircraft to a new landing time" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Move_Aircraft">
        <org.eventb.core.parameter name="_UutVIEr5Ee2jiPlvG5m5_Q" org.eventb.core.generated="false" org.eventb.core.identifier="aircraft"/>
        <org.eventb.core.parameter name="_UutVIUr5Ee2jiPlvG5m5_Q" org.eventb.core.generated="false" org.eventb.core.identifier="time"/>
        <org.eventb.core.guard name="_jsuhYWmqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="grd1,1" org.eventb.core.predicate="aircraft ∈ dom(landing_sequence)"/>
        <org.eventb.core.guard name="_jsuhYmmqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="grd1,2" org.eventb.core.predicate="time ∈ PLANNING_INTERVAL"/>
        <org.eventb.core.guard name="_jsuhY2mqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="grd1,3" org.eventb.core.predicate="time ≠ landing_sequence(aircraft)"/>
        <org.eventb.core.guard name="_jsuhZGmqEe2s8uUhoFrjqA" org.eventb.core.comment="ensure we keep the separation to other aircraft" org.eventb.core.generated="false" org.eventb.core.label="grd1,4" org.eventb.core.predicate="∀a· a ∈ dom(landing_sequence) ∖ {aircraft} ⇒  DIST(landing_sequence(a) ↦ time) ≥ AIRCRAFT_SEPARATION_MIN"/>
        <org.eventb.core.action name="_jsvIcGmqEe2s8uUhoFrjqA" org.eventb.core.assignment="landing_sequence(aircraft) ≔ time" org.eventb.core.generated="false" org.eventb.core.label="act1,1"/>
    </org.eventb.core.event>
    <org.eventb.core.invariant name="_jsvIcWmqEe2s8uUhoFrjqA" org.eventb.core.comment="all scheduled airplanes have a planned arrival time in the planning interval" org.eventb.core.generated="false" org.eventb.core.label="inv1,1" org.eventb.core.predicate="landing_sequence ∈ AIRPLANES ⇸ PLANNING_INTERVAL"/>
    <org.eventb.core.invariant name="_jsvIcmmqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="inv13,2" org.eventb.core.predicate="∀a1,a2 · a1 ∈ dom(landing_sequence) ∧ a2 ∈ dom(landing_sequence) ∧ a1 ≠ a2 ⇒&#10;           (DIST(landing_sequence(a1) ↦ landing_sequence(a2)) ≥ AIRCRAFT_SEPARATION_MIN)"/>
    <org.eventb.core.invariant name="_jsvIc2mqEe2s8uUhoFrjqA" org.eventb.core.generated="false" org.eventb.core.label="glue1,1" org.eventb.core.predicate="scheduledAirplanes = dom(landing_sequence)"/>
</org.eventb.core.machineFile>
